<Main>:
    on_enter:
        root.enter()
        
    MDBoxLayout:
        orientation:'vertical'
        MDTopAppBar:
            id:tbar
            title:'My Syllabus'
            left_action_items: [["menu", lambda x: nav_drawer.set_state("open")]]
            right_action_items: [['refresh', lambda x: root.refresh()]]
        
                
        ScrollView:
            do_scroll_x:False
            do_scroll_y:True
            bar_margin:4
            bar_width:10
            scroll_type:['bars', 'content']
            bar_color:[0, 0, 1, 1]
            id:scroll
            GridLayout:
                size_hint_y:None
                spacing:0,30
                padding:50,100
                id:grid
                cols:1
        
    
    MDFloatingActionButtonSpeedDial:
        id: speed_dial
        data: root.data
        root_button_anim: True
        label_text_color: "black"
        label_bg_color: "white"
        hint_animation: False
        
    MDNavigationDrawer:
        id: nav_drawer
        radius: (0, 16, 16, 0)
        
        MDNavigationDrawerMenu
            MDNavigationDrawerHeader:
                id:ttool
                spacing: "2dp"
                padding: "16dp", 0, 0, "16dp"
                title:'My Syllabus'
                text:'Easily manage your exam syllabus'
                
            MDNavigationDrawerDivider:
            MDNavigationDrawerItem
                icon: "close"
                text_right_color: "#4a4939"
                text: "Cancel"
                on_release: root.clnb()
            
            MDNavigationDrawerDivider:
            MDNavigationDrawerItem
                icon: "file-chart-outline"
                text_right_color: "#4a4939"
                text: "Overall Report"
                on_release: root.show_overall_report('Goto')
                
            
            MDNavigationDrawerDivider:
            MDNavigationDrawerItem
                icon: "file-document-check"
                text_right_color: "#4a4939"
                text: "Exam Report"
                on_release: root.go_to_exam()   
                
            MDNavigationDrawerDivider:
            MDNavigationDrawerItem
                icon: "message-reply-text-outline"
                text_right_color: "#4a4939"
                text: "Chat"
                on_release: root.go_to_chat()   
                
            MDNavigationDrawerDivider:
            MDNavigationDrawerItem
                icon: "list-box-outline"
                text_right_color: "#4a4939"
                text: "TO-DO"
                on_release: root.todo()
            
            MDNavigationDrawerDivider:
            MDNavigationDrawerItem
                icon: "cloud-upload"
                text_right_color: "#4a4939"
                text: "Save Data"
                on_release: root.save_data()
                
            MDNavigationDrawerDivider:
            MDNavigationDrawerItem
                id:wallpaperbtn
                icon: "wallpaper"
                text_right_color: "#4a4939"
                text: "Set Auto Wallpaper"
                on_release: root.set_wallpaper(self.text)
                
            MDNavigationDrawerDivider:
            MDNavigationDrawerItem
                icon: "cloud-alert"
                text_right_color: "#4a4939"
                text: "Lost Data/Folder Deleted"
                on_release: root.recover()
                
            MDNavigationDrawerDivider:
            MDNavigationDrawerItem
                id:lgt
                icon: "account"
                text_right_color: "#4a4939"
                text:''
                #text: "Logout" if root.check() else "Login"
                on_release: root.login(self.text)
            
            MDNavigationDrawerDivider:
            MDNavigationDrawerItem
                icon: "help-circle-outline"
                text_right_color: "#4a4939"
                text: "About"
                on_release: root.about()
                
            MDNavigationDrawerDivider:
            MDNavigationDrawerItem
                icon: "exit-to-app"
                text_right_color: "#4a4939"
                text: "EXIT"
                on_release: root.exit()
    
    
<NewSubjectBox>:
    orientation:'vertical'
    size_hint_y:None
    height:'70dp'
    
    MDTextField:
        hint_text:'Subject Name'
        required:True
        multiline:False
        text:'New Subject'
        id:subname
        text_color_focus:'red'

<NewChapterBox>:
    orientation:'vertical'
    size_hint_y:None
    height:'70dp'
    
    MDTextField:
        hint_text:'Chapter Name'
        required:True
        multiline:False
        text:'New Chapter'
        id:cname
        text_color_focus:'red'
 
<SubjectPage>:
    on_enter:
        root.enter()
        
    MDBoxLayout:
        orientation:'vertical'
        MDTopAppBar:
            id:tbar
            title:'My Syllabus'
            right_action_items: [["home", lambda x: root.home()]]
            left_action_items: [['refresh', lambda x: root.enter()]]
            
        ScrollView:
            do_scroll_x:False
            do_scroll_y:True
            bar_margin:4
            bar_width:10
            scroll_type:['bars', 'content']
            bar_color:[0, 0, 1, 1]
            id:scroll
            
            GridLayout:
                size_hint_y:None
                spacing:0,30
                padding:50,100
                id:grid
                cols:1
                
    MDFloatingActionButtonSpeedDial:
        id: speed_dial
        data: root.data
        root_button_anim: True
        label_text_color: "black"
        label_bg_color: "white"
        hint_animation: False
        

<RemoveChapterBox>:
    orientation:'vertical'
    size_hint_y:None
    height:'100dp'
    
    MDLabel:
        text:'Write the chapter name to be removed'
        halign:'center'
        bold:True
        
    MDTextField:
        hint_text:'Chapter Name'
        required:True
        multiline:False
        text:'Chapter Name'
        id:cname
        text_color_focus:'red'       
        

<SendReportBox>:
    orientation:'vertical'
    size_hint_y:None
    height:'100dp'
    
    MDLabel:
        text:"A SMS report will be sent to this mobile number"
        font_style:'Caption'
        
    MDTextField:
        hint_text:'Phone Number'
        required:True
        multiline:False
        text:''
        id:num
        text_color_focus:'red'


<ReportPage>:
    on_enter:root.enter()
    
    MDBoxLayout:
        orientation:'vertical'
        MDTopAppBar:
            id:tbar
            title:'Overall Report'
            right_action_items: [["dots-vertical", lambda x: root.menu_open(x)]]
       
        MDLabel:
            text:''
            size_hint_y:None
            height:50
            
        ScrollView:
            do_scroll_x:False
            do_scroll_y:True
            MDCard:
                id:board
                size_hint_y:None
                height: cont.height
                md_bg_color:'#a9e2f5'
                
                MDLabel:
                    id:cont
                    text:''
                    markup:True
                    padding: [25, 25]
                    size_hint_y: None
                    halign:'center'
                    height: self.texture_size[1] + 2*self.padding[1]




<AboutPage>:
    on_enter:root.enter()
    
    MDBoxLayout:
        orientation:'vertical'
        MDTopAppBar:
            id:tbar
            title:'About'
            right_action_items: [["home", lambda x: root.home()]]
       
        MDLabel:
            text:''
            size_hint_y:None
            height:50
            
        ScrollView:
            do_scroll_x:False
            do_scroll_y:True
            bar_margin:4
            bar_width:10
            scroll_type:['bars', 'content']
            bar_color:[0, 0, 1, 1]
            id:scroll            
            GridLayout:
                size_hint_y:None
                spacing:0,100
                padding:0,100
                id:grid
                cols:1
                
                MDLabel:
                    text:'[color=#4fc406]My Syllabus[/color]'
                    halign:'center'
                    markup:True
                    font_style:'H3'
                    bold:True
                    underline:True
                
                MDCard:
                    size_hint_y:None
                    height: root.ww
                    size_hint_x:None
                    width: root.ww
                    FitImage:
                        source:'icon.jpg'
                
                MDLabel:
                    text:'It is an app built with an objective of making it easy for students to manage their syllabus and get success in their exams'
                    halign:'center'
                    markup:True
                    font_style:'H6'
                    bold:True
                    size_hint_y:None
                    height:150
                
                MDLabel:
                    text:'[color=#4fc406]All The Best !![/color]'
                    halign:'center'
                    markup:True
                    font_style:'H3'
                    bold:True
                    underline:True
                    size_hint_y:None
                    height:200
                    

<TasksPage>:
    on_enter:root.enter()
    MDBoxLayout:
        orientation:'vertical'
        MDTopAppBar:
            id:tbar
            title:"Today's Tasks"
            right_action_items: [["home", lambda x: root.home()]]
            
        ScrollView:
            do_scroll_x:False
            do_scroll_y:True
            bar_margin:4
            bar_width:10
            scroll_type:['bars', 'content']
            bar_color:[0, 0, 1, 1]
            id:scroll
            
            GridLayout:
                size_hint_y:None
                spacing:0,30
                padding:50,100
                id:grid
                cols:1
        
        MDRelativeLayout:
            size_hint_x: None
            width: root.ww
            size_hint_y: None
            height: taskt.height
            
            MDTextField:
                id: taskt
                hint_text: 'Type Task'
                max_text_length:30
                mode:"fill"
                multiline:False
                text_color_focus:'red'
        
            MDIconButton:
                icon: "send"
                pos_hint: {"center_y": .5}
                pos: taskt.width - self.width + dp(8), 0
                on_release:root.add_task(taskt.text)
                
                
<LoginPage>:
    MDBoxLayout:
        orientation:'vertical'
        MDTopAppBar:
            id:tbar
            title:'My Tasks Login'
            right_action_items: [['keyboard-backspace', lambda x: root.back()]]
            
        MDLabel:
            text:''
    
    MDIcon:
        icon:'account'
        pos_hint: {"center_x": .5, "center_y": .8}
        font_size: '200dp'
    
    MDTextField:
        id:sname
        multiline:False
        hint_text:'Student Name'
        pos_hint: {"center_x": .5, "center_y": .5}
        mode:'rectangle'
    
    MDRaisedButton:
        text: "Login"
        pos_hint: {"center_x": .5, "center_y": .3}
        size_hint:(0.9,0.1)
        on_release:root.login()
    
    MDFlatButton:
        text: "Do not have a account Signup"
        pos_hint: {"center_x": .5, "center_y": .15}
        size_hint:(0.9,0.1)
        on_release:root.sign()
            
<SignupPage>:
    MDBoxLayout:
        orientation:'vertical'
        MDTopAppBar:
            id:tbar
            title:'My Tasks Signup'
            right_action_items: [['keyboard-backspace', lambda x: root.back()]]
            
        MDLabel:
            text:''
            
    MDIcon:
        icon:'account'
        pos_hint: {"center_x": .5, "center_y": .8}
        font_size: '200dp'
    
    MDTextField:
        id:sname
        multiline:False
        hint_text:'Student Name'
        pos_hint: {"center_x": .5, "center_y": .5}
        mode:'rectangle'
    
    
    MDRaisedButton:
        text: "Signup"
        pos_hint: {"center_x": .5, "center_y": .3}
        size_hint:(0.9,0.1)
        on_release:root.signup()
    
    MDFlatButton:
        text: "Already have a account Login"
        pos_hint: {"center_x": .5, "center_y": .15}
        size_hint:(0.9,0.1)
        on_release:root.log()
        
        
<ChatPage>:
    on_enter:root.enter()
    MDBoxLayout:
        orientation:'vertical'
        MDTopAppBar:
            id:tbar
            title:"Chat"
            right_action_items: [["home", lambda x: root.home()]]
            
        ScrollView:
            do_scroll_x:False
            do_scroll_y:True
            bar_margin:4
            bar_width:10
            scroll_type:['bars', 'content']
            bar_color:[0, 0, 1, 1]
            id:scroll
            
            GridLayout:
                size_hint_y:None
                spacing:0,30
                padding:50,100
                id:grid
                cols:1
        
        MDRelativeLayout:
            size_hint_x: None
            width: root.ww
            size_hint_y: None
            height: taskt.height
            
            MDTextField:
                id: taskt
                hint_text: 'Type Message'
                max_text_length:30
                mode:"fill"
                multiline:True
                text_color_focus:'red'
        
            MDIconButton:
                icon: "send"
                pos_hint: {"center_y": .5}
                pos: taskt.width - self.width + dp(8), 0
                on_release:root.send(taskt.text)  

    MDSpinner:
        size_hint: None, None
        size: dp(46), dp(46)
        pos_hint: {'center_x': .5, 'center_y': .5}
        id:loader
        active:True
        

<ExamPage>:
    on_enter:root.enter()
    
    MDBoxLayout:
        orientation:'vertical'
        MDTopAppBar:
            id:tbar
            title:'My Exams Report'
            right_action_items: [['home', lambda x: root.home()]]
            
        ScrollView:
            MDList:
                id: flist
                padding: 10,30
                spacing: 0,20
                
    MDFloatingActionButton:
        icon: "plus"
        pos_hint: {"center_x": .85, "center_y": .1}
        on_release:
            root.add_exam()
            
    MDSpinner:
        size_hint: None, None
        size: dp(46), dp(46)
        pos_hint: {'center_x': .5, 'center_y': .5}
        id:loader
        active:True
        
        
<ExamBox>:
    orientation:'vertical'
    size_hint_y:None
    height:'200dp'
    
    MDLabel:
        text:"Add Exam name and your scores"
        font_style:'Caption'
        
    MDTextField:
        hint_text:'Exam Name'
        required:True
        multiline:False
        text:''
        id:ename
        text_color_focus:'red'
        
    MDTextField:
        hint_text:'Maximum Marks'
        required:True
        multiline:False
        text:''
        id:mm
        text_color_focus:'red'
        
    MDTextField:
        hint_text:'Marks Obtained'
        required:True
        multiline:False
        text:''
        id:mo
        text_color_focus:'red'