<Main>:
    on_enter:
        root.enter()
        
    MDBoxLayout:
        orientation:'vertical'
        MDTopAppBar:
            id:tbar
            title:'My Syllabus'
            left_action_items: [["menu", lambda x: nav_drawer.set_state("open")]]
            right_action_items: [['refresh', lambda x: root.enter()]]
            
        ScrollView:
            do_scroll_x:False
            do_scroll_y:True
            bar_margin:4
            bar_width:10
            scroll_type:['bars', 'content']
            bar_color:[0, 0, 1, 1]
            
            GridLayout:
                size_hint_y:None
                spacing:0,30
                padding:50,100
                id:grid
                cols:1
        
    
    MDFloatingActionButtonSpeedDial:
        id: speed_dial
        data: root.data
        root_button_anim: True
        label_text_color: "black"
        label_bg_color: "white"
        hint_animation: False
        
    MDNavigationDrawer:
        id: nav_drawer
        radius: (0, 16, 16, 0)
        
        MDNavigationDrawerMenu
            MDNavigationDrawerHeader:
                id:ttool
                spacing: "2dp"
                padding: "16dp", 0, 0, "16dp"
                title:'My Syllabus'
                text:'Easily manage your exam syllabus'
                
            MDNavigationDrawerDivider:
            MDNavigationDrawerItem
                icon: "close"
                text_right_color: "#4a4939"
                text: "Cancel"
                on_release: root.clnb()
            
            MDNavigationDrawerDivider:
            MDNavigationDrawerItem
                icon: "file-chart-outline"
                text_right_color: "#4a4939"
                text: "Overall Report"
                on_release: root.show_overall_report()
                
            MDNavigationDrawerDivider:
            MDNavigationDrawerItem
                icon: "list-box-outline"
                text_right_color: "#4a4939"
                text: "TO-DO"
                on_release: root.todo()
            
            MDNavigationDrawerDivider:
            MDNavigationDrawerItem
                icon: "cloud-upload"
                text_right_color: "#4a4939"
                text: "Save Data"
                on_release: root.save_data()
                
            MDNavigationDrawerDivider:
            MDNavigationDrawerItem
                icon: "cloud-alert"
                text_right_color: "#4a4939"
                text: "Lost Data/Folder Deleted"
                on_release: root.recover()
                
            MDNavigationDrawerDivider:
            MDNavigationDrawerItem
                icon: "exit-to-app"
                text_right_color: "#4a4939"
                text: "EXIT"
                on_release: root.exit()
    
    
<NewSubjectBox>:
    orientation:'vertical'
    size_hint_y:None
    height:'70dp'
    
    MDTextField:
        hint_text:'Subject Name'
        required:True
        multiline:False
        text:'New Subject'
        id:subname
        text_color_focus:'red'

<NewChapterBox>:
    orientation:'vertical'
    size_hint_y:None
    height:'70dp'
    
    MDTextField:
        hint_text:'Chapter Name'
        required:True
        multiline:False
        text:'New Chapter'
        id:cname
        text_color_focus:'red'
 
<SubjectPage>:
    on_enter:
        root.enter()
        
    MDBoxLayout:
        orientation:'vertical'
        MDTopAppBar:
            id:tbar
            title:'My Syllabus'
            right_action_items: [["home", lambda x: root.home()]]
            left_action_items: [['refresh', lambda x: root.enter()]]
            
        ScrollView:
            do_scroll_x:False
            do_scroll_y:True
            bar_margin:4
            bar_width:10
            scroll_type:['bars', 'content']
            bar_color:[0, 0, 1, 1]
            
            GridLayout:
                size_hint_y:None
                spacing:0,30
                padding:50,100
                id:grid
                cols:1
                

    MDFloatingActionButtonSpeedDial:
        id: speed_dial
        data: root.data
        root_button_anim: True
        label_text_color: "black"
        label_bg_color: "white"
        hint_animation: False


<RemoveChapterBox>:
    orientation:'vertical'
    size_hint_y:None
    height:'100dp'
    
    MDLabel:
        text:'Write the chapter name to be removed'
        halign:'center'
        bold:True
        
    MDTextField:
        hint_text:'Chapter Name'
        required:True
        multiline:False
        text:'Chapter Name'
        id:cname
        text_color_focus:'red'       
        

<SendReportBox>:
    orientation:'vertical'
    size_hint_y:None
    height:'100dp'
    
    MDLabel:
        text:"A SMS report will be sent to this mobile number"
        font_style:'Caption'
        
    MDTextField:
        hint_text:'Phone Number'
        required:True
        multiline:False
        text:''
        id:num
        text_color_focus:'red'


<ReportPage>:
    on_enter:root.enter()
    
    MDBoxLayout:
        orientation:'vertical'
        MDTopAppBar:
            id:tbar
            title:'Overall Report'
            right_action_items: [["dots-vertical", lambda x: root.menu_open(x)]]
       
        MDLabel:
            text:''
            size_hint_y:None
            height:100
            
        ScrollView:
            do_scroll_x:False
            do_scroll_y:True
            MDCard:
                id:board
                size_hint_y:None
                height: cont.height
                md_bg_color:'#a9e2f5'
                
                MDLabel:
                    id:cont
                    text:''
                    markup:True
                    padding: [25, 25]
                    size_hint_y: None
                    height: self.texture_size[1] + 2*self.padding[1]

                      
<TasksPage>:
    on_enter:root.enter()
    MDBoxLayout:
        orientation:'vertical'
        MDTopAppBar:
            id:tbar
            title:'Tasks'
            right_action_items: [["home", lambda x: root.home()]]
            
        ScrollView:
            MDList:
                id: flist
                padding: 10,30
                spacing: 0,20
        
        MDRelativeLayout:
            size_hint_x: None
            width: root.ww
            size_hint_y: None
            height: taskt.height
            
            MDTextField:
                id: taskt
                hint_text: 'Type Task'
                max_text_length:30
                mode:"fill"
                multiline:False
                text_color_focus:'red'
        
            MDIconButton:
                icon: "send"
                pos_hint: {"center_y": .5}
                pos: taskt.width - self.width + dp(8), 0
                on_release:root.add_task()